# W1 D02 (2025-08-26)

## ✅ 오늘 한 일

### BE
- **이벤트/좌석 조회 API 구현**
  - 왜? → FE에서 좌석맵을 표시하려면 이벤트와 좌석 데이터를 제공하는 API가 필요하다.
  - 그래서 →  
    - `GET /api/events` (이벤트 목록 조회)  
    - `GET /api/events/{id}` (단일 이벤트 조회)  
    - `GET /api/events/{id}/seats` (좌석 맵 조회)  
    작성 및 테스트 완료.
  - 결과 → FE에서 API를 호출해 이벤트 및 좌석 데이터를 받아올 수 있음.

### FE
- **이벤트 리스트/상세 연동**
  - 왜? → 샘플 이벤트 데이터를 BE에서 받아와 목록 및 상세를 보여줘야 실서비스 느낌이 난다.
  - 그래서 → React Query(`useEvents`, `useEvent`) 훅 작성, 이벤트 페이지에서 데이터 fetch.
  - 결과 → `/events`에서 BE 데이터 목록 정상 표시, `/events/:id`에서 상세정보 정상 표시.

- **Invalid Date 문제 해결**
  - 왜? → BE에서 응답하는 필드명이 `dateTime`인데 FE 타입에서 `date`로 잘못 받아서 `Invalid Date` 오류 발생.
  - 그래서 → FE 타입을 `dateTime`으로 수정하고 `new Date(event.dateTime).toLocaleString()`으로 변환.
  - 결과 → 이벤트 상세 페이지에 올바른 날짜·시간이 표시됨.

- **좌석맵 뼈대 구성**
  - 왜? → `/api/events/{id}/seats` 응답을 그리드 형태로 UI 표시해야 한다.
  - 그래서 → `SeatGrid.tsx` 작성, 좌석 rows/cols만큼 격자 생성, status에 따라 색상 지정.
  - 결과 → FE에서 샘플 좌석맵이 표시되며 AVAILABLE/HELD/SOLD 색상이 구분됨.

---

## 📚 배운 점
- API 계약이 FE/BE 간에 정확히 맞지 않으면 즉시 오류가 난다 → 타입/필드명 동기화의 중요성 체감.
- React Query를 사용하면 API 캐싱과 로딩/에러 처리가 단순해진다.

---

## 💡 느낀 점 / 회고
- 작은 필드명 불일치( date vs dateTime )가 실제 서비스에서는 큰 장애가 될 수 있음을 느꼈다.
- 좌석맵을 그리드로 그리니 실제 예매 사이트 같은 실감이 나서 프로젝트 재미가 더 커졌다.

---

## 📊 검증 결과 (DoD)
- FE: `/events`에서 이벤트 목록 정상 표시
- FE: `/events/:id`에서 상세 정상 표시 (Invalid Date 해결됨)
- FE: 좌석맵 색상 구분 확인 (emerald=AVAILABLE, amber=HELD, neutral=SOLD)

---

## 📸 결과물 캡처
![이벤트 상세 + 좌석맵 표시](./images/d02-event-seatmap.png)
